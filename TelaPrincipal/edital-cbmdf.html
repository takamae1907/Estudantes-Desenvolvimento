<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plano de Estudos - CBMDF</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAHySURBVDhPpZJPSBRhFMd/d2Z3dnV13TUF8SoaCSpoECoZ6qFAT0EPRQ8Fk0IliEihkkKgBEUohB4KlfRQBKGHCpGoQ6EgHcdK6FpRz85835md2f2YfXrHx/s93/v+7/de+H+YpnEC2d0yWCo5zKj2OD4VAdnVQB+dFBCkY2n5bW4BztbU1c/Pz8/b29vPSkpqf2dnd3d3b2hoCJaQngCMTQC8tLS0sLGxsbW1tba2tjaHBwYnJvY/XVtZWVlZWlpSWloK4+L/AQAjE8BfAFpaWhofHz87Ozs/Pz83Nzc7W1swODDAwMDAgIGBsbExYdF/APBDLwDwsbGxsbGxsbW15eXl5e3t7ePj4+vr6+7u7uLiYmNjY29v7+zs7Nra2tLS0vj4+PDw8Ozs7O3t7ezs7M/Pz8zMzMvLw+fn5+Hh4evr6+Xl5d3d3bW1tQkJCZGRkcnJyWlpaZGRkeXl5QkJCcnJyakpqampKSsrm5ubW1tbKysoHBwcfHx/f39/v7+/j4+P7+/v39/cfHx+fn58fHh4eHh5+fn4eHh7u7u7e3t7a2trm5ubKysru7u7a2trm5uY/MjKysrKysrIyPz8/MzMzPz//+PHj+7s7d85c27179+7du1//vXv3rplzP/744/f7+R01cbA8b4Vj+kS+0JzfYmJioqKi4uPj7e3t7e/v7+/vf3p6evv58+fT09Pe3t7m5ubY2NjS0tLi4uLi4uKqqqrk5ORkZGS4uLiYmJj8+/fv39/f39/f7+/v7+/v7e3t7e3t7e3t7e3t7e3t7e0dHR1dXV37+/tra2v39/d3d3dXV1c3Nzc3NzcXFxcXFxcnJyZKSknJyckpKSkpKSlxcXFxcXFxcXFxcXJyanJyamJyYjIyMsbExNTU1OTk5PT09Pz8/OTk5LS0tLS0tKysrKysrKysrLS3t6OioqKiorq6ur6+voKCgoaGhubm5ra2tqampnZ2dpqamsbGxpaWlqampmZmZlZWVmZmZmZmZnZ2dna2tra2tra2trampmZmZmZmZmZmZmZmZmZmZubl/AsgW+gAAAABJRU5ErkJggg==">

    <style>
        /* --- APPLE DESIGN PHILOSOPHY - RESET & GLOBAIS --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
            background-color: #000000;
            color: #f5f5f7;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        :root {
            --primary-color: #0a84ff; /* Cor primária azul */
            --primary-color-gradient: linear-gradient(90deg, #0a84ff, #34c759);
            --background-color: #000000;
            --surface-color: #1c1c1e;
            --surface-color-secondary: #2c2c2e;
            --text-color-primary: #f5f5f7;
            --text-color-secondary: #8a8a8e;
            --border-color: #3a3a3c;
        }

        /* --- LAYOUT PRINCIPAL - GRID E ESPAÇAMENTO --- */
        .dashboard-container {
            display: grid;
            grid-template-columns: 240px 1fr 340px;
            height: 100vh;
            gap: 24px;
            padding: 20px;
        }

        /* --- BARRA LATERAL (SIDEBAR) --- */
        .sidebar {
            padding: 10px 0;
            display: flex;
            flex-direction: column;
        }

        .sidebar-logo {
            padding: 15px 25px;
            margin-bottom: 10px;
        }

        .sidebar-logo img {
            width: 50px;
        }

        .sidebar-nav ul {
            list-style: none;
            width: 100%;
            padding: 0 15px;
        }

        .sidebar-nav li a {
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 20px;
            color: var(--text-color-secondary);
            text-decoration: none;
            padding: 12px 10px;
            border-radius: 8px;
            transition: all 0.2s ease-in-out;
        }

        .sidebar-nav li a i {
            font-size: 1.2em;
            width: 25px;
            text-align: center;
        }

        .sidebar-nav li.active a,
        .sidebar-nav li a:hover {
            color: var(--text-color-primary);
            background-color: var(--surface-color-secondary);
        }
        
        .sidebar-nav li.active a {
             color: var(--primary-color);
        }

        /* --- CONTEÚDO PRINCIPAL E COLUNA DIREITA --- */
        .main-content,
        .right-column {
            overflow-y: auto;
        }

        .main-content::-webkit-scrollbar { width: 8px; }
        .main-content::-webkit-scrollbar-track { background: transparent; }
        .main-content::-webkit-scrollbar-thumb { background: var(--border-color); border-radius: 4px; }

        .right-column {
            background-color: var(--surface-color);
            border-radius: 16px;
            padding: 25px;
        }

        .right-column::-webkit-scrollbar { display: none; }

        .page-header { margin-bottom: 30px; }
        .page-header h1 { font-size: 2.2em; font-weight: 600; margin-bottom: 8px; }
        .page-header p { color: var(--text-color-secondary); font-size: 1.1em; }

        /* --- PAINEL DE PROGRESSO --- */
        .progress-panel {
            background-color: var(--surface-color);
            padding: 25px;
            border-radius: 16px;
            margin-bottom: 40px;
        }

        .progress-panel h2 {
            font-size: 1.5em;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
        }

        .progress-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px 25px;
        }
        
        .progress-item { margin-bottom: 12px; }
        .progress-title {
            display: flex;
            justify-content: space-between;
            font-size: 0.9em;
            margin-bottom: 6px;
            color: var(--text-color-primary);
            font-weight: 500;
        }
        
        .progress-bar-container {
            background-color: var(--surface-color-secondary);
            border-radius: 5px;
            height: 8px;
            width: 100%;
            overflow: hidden;
        }

        .progress-bar {
            background: var(--primary-color-gradient);
            height: 100%;
            border-radius: 5px;
            width: 0%;
            transition: width 0.5s ease-in-out;
        }

        /* --- PLANO DE ESTUDOS (ACORDEÃO) --- */
        .plan-container h2 { margin-bottom: 20px; font-size: 1.8em; }

        .accordion-item {
            background-color: var(--surface-color);
            border-radius: 16px;
            margin-bottom: 12px;
            overflow: hidden;
            border: 1px solid transparent;
            transition: border-color 0.3s;
        }
        .accordion-item.active { border-color: var(--border-color); }

        .accordion-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .accordion-header:hover { background-color: #252527; }

        .accordion-header h3 {
            font-size: 1.2em;
            display: flex;
            gap: 12px;
            align-items: center;
        }
         .accordion-header h3 i {
            color: var(--primary-color);
         }

        .accordion-header .icon {
            transition: transform 0.3s ease;
            color: var(--text-color-secondary);
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease, padding 0.5s ease;
            padding: 0 20px;
        }

        .accordion-item.active .accordion-content {
            max-height: 5000px; 
            padding: 0 20px 20px;
        }
        .accordion-item.active .accordion-header .icon { transform: rotate(45deg); }

        .day-plan {
            padding-top: 20px;
            margin-top: 20px;
            border-top: 1px solid var(--border-color);
        }
        .day-plan:first-child {
            margin-top: 0;
            padding-top: 0;
            border-top: none;
        }
        
        .day-plan h4 {
            font-size: 1.1em;
            font-weight: 600;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--surface-color-secondary);
        }

        .day-plan.today h4 {
            color: var(--primary-color); /* Cor de destaque para o dia atual */
        }
        
        .topic-list { list-style: none; }

        .topic-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px 5px;
        }
        
        .topic-item label {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            cursor: pointer;
        }

        .topic-item .subject-tag {
            font-size: 0.75em;
            font-weight: 600;
            color: var(--text-color-primary);
            background-color: var(--border-color);
            padding: 3px 8px;
            border-radius: 5px;
            margin-top: 5px;
            align-self: flex-start;
        }

        .topic-item input[type="checkbox"] {
            appearance: none;
            -webkit-appearance: none;
            flex-shrink: 0;
            width: 22px;
            height: 22px;
            border: 2px solid var(--border-color);
            border-radius: 50%;
            cursor: pointer;
            position: relative;
            transition: all 0.2s;
        }
        .topic-item input[type="checkbox"]:hover { border-color: var(--text-color-secondary); }
        .topic-item input[type="checkbox"]:checked {
            background-color: #34c759;
            border-color: #34c759;
        }

        .topic-item input[type="checkbox"]:checked::before {
            content: '\f00c';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            color: var(--background-color);
            font-size: 12px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .topic-item.completed label span:first-child {
            color: var(--text-color-secondary);
            text-decoration: line-through;
        }
        
        .material-item { display: flex; align-items: center; justify-content: space-between; padding: 15px 10px; border-bottom: 1px solid var(--surface-color-secondary); }
        .material-item:last-child { border-bottom: none; }
        .material-info { display: flex; align-items: center; gap: 15px; }
        .material-info i { font-size: 1.5em; color: var(--primary-color); }
        .download-btn { background-color: var(--border-color); color: var(--text-color-primary); border: none; border-radius: 8px; padding: 8px 15px; font-size: 0.9em; font-weight: 500; cursor: pointer; transition: background-color 0.2s; }
        .download-btn:hover { background-color: #48484a; }

        /* --- NOVO WIDGET DE NAVEGAÇÃO POR SEMANAS --- */
        .weeks-widget {
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }
        .weeks-widget h3 {
            font-size: 1.1em;
            margin-bottom: 15px;
            color: var(--text-color-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .weeks-nav {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        .weeks-nav a {
            display: block;
            padding: 12px 15px;
            text-decoration: none;
            color: var(--text-color-primary);
            background-color: var(--surface-color-secondary);
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.2s;
        }
        .weeks-nav a:hover {
            background-color: var(--border-color);
        }
        .weeks-nav a.active {
            background-color: var(--primary-color);
            color: #fff;
            box-shadow: 0 4px 15px rgba(10, 132, 255, 0.2);
        }

    </style>

</head>
<body>
    <div class="dashboard-container">
        
        <aside class="sidebar">
            <div class="sidebar-logo">
                 <a href="TelaPrincipal.html"> <img src="fotos/logo.png" alt="Logo Meus Estudos"></a>
            </div>
              <nav class="sidebar-nav">
                  <ul>
                      <li><a href="TelaPrincipal.html"><i class="fa-solid fa-house"></i><span>Home</span></a></li>
                      <li class="active"><a href="conteudos.html"><i class="fa-solid fa-book"></i><span>Conteúdo</span></a></li>
                      <li><a href="questoes.html"><i class="fa-solid fa-list-check"></i><span>Questões</span></a></li>
                      <li><a href="flashcards.html"><i class="fa-solid fa-layer-group"></i><span>Flashcards</span></a></li>
                  </ul>
              </nav>
        </aside>

        <main class="main-content">
            <header class="page-header">
                <h1>Plano de Estudos - CBMDF 2025</h1>
                <p>Acompanhe seu progresso e mantenha a disciplina para alcançar a aprovação.</p>
            </header>

            <section class="progress-panel" id="progress-panel"></section>

            <section class="plan-container">
                <h2 id="metas-title">Metas da Semana</h2>
                <div id="metas-semanais-container" class="accordion-container"></div>
                
                <div id="materiais-container" class="accordion-container" style="margin-top: 40px;">
                    <div class="accordion-item">
                        <div class="accordion-header">
                            <h3><i class="fa-solid fa-download"></i> Materiais de Apoio</h3>
                            <i class="fas fa-plus icon"></i>
                        </div>
                        <div class="accordion-content">
                            <div class="material-item">
                                <div class="material-info">
                                    <i class="fa-solid fa-file-pdf"></i>
                                    <span>Edital Verticalizado - CBMDF 2025.pdf</span>
                                </div>
                                <a href="#" class="download-btn" download>Baixar</a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        
        <aside class="right-column">
             <div class="widget">
                <div class="weeks-widget">
                    <h3>Plano de Estudos</h3>
                    <nav>
                        <ul id="weeks-navigation" class="weeks-nav">
                            </ul>
                    </nav>
                </div>
            </div>
        </aside>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {

        // --- BANCO DE DADOS ---
        const todasAsMaterias = [ 
            'Língua Portuguesa', 'Matemática', 'Química', 'Física', 'Biologia', 
            'Noções de Informática', 'Noções de Agenda Ambiental', 'Legislação', 
            'Emergência Pré-Hospitalar', 'Teoria Musical', 'Manutenção e Sistemas Automotivos', 
            'Legislação de Trânsito', 'Questões', 'Redação', 'Revisão'
        ];
        
        // Simulação de dados para 4 semanas
        const planoDeEstudosCompleto = {
            1: { // Semana 1
                titulo: "Foco em Legislação e Resolução de Questões",
                dias: [
                    { dia: "Segunda-feira", metas: [
                        { id: "s1m1", materia: "Legislação", descricao: "Ler e grifar os 30 primeiros artigos do Estatuto dos Bombeiros (Lei 7.479/86)." },
                        { id: "s1m2", materia: "Língua Portuguesa", descricao: "Revisar o uso da crase e resolver a folha de exercícios." }
                    ]},
                    { dia: "Terça-feira", metas: [
                        { id: "s1m3", materia: "Emergência Pré-Hospitalar", descricao: "Assistir videoaula sobre Suporte Básico de Vida (SBV)." },
                        { id: "s1m4", materia: "Matemática", descricao: "Resolver 15 exercícios de Análise Combinatória." }
                    ]},
                    { dia: "Quarta-feira", metas: [{ id: "s1m5", materia: "Química", descricao: "Revisar conceitos de Termoquímica." }]},
                    { dia: "Quinta-feira", metas: [{ id: "s1m6", materia: "Física", descricao: "Revisar as Leis de Newton." }]},
                    { dia: "Sexta-feira", metas: [{ id: "s1m7", materia: "Questões", descricao: "Resolver 50 questões de matérias variadas da semana." }]},
                    { dia: "Sábado", metas: [{ id: "s1m8", materia: "Revisão", descricao: "Revisar todos os tópicos estudados na semana." }]}
                ]
            },
            2: { // Semana 2
                titulo: "Aprofundamento em APH e Exatas",
                dias: [
                    { dia: "Segunda-feira", metas: [
                        { id: "s2m1", materia: "Emergência Pré-Hospitalar", descricao: "Estudo de caso: Atendimento a politraumatizados." },
                        { id: "s2m2", materia: "Legislação", descricao: "Revisar os artigos 31 a 60 do Estatuto." }
                    ]},
                     { dia: "Terça-feira", metas: [{ id: "s2m3", materia: "Matemática", descricao: "Estudar Progressão Aritmética e Geométrica." }]},
                     { dia: "Quarta-feira", metas: [{ id: "s2m4", materia: "Física", descricao: "Estudar Cinemática: MUV." }]}
                ]
            },
            3: { // Semana 3
                 titulo: "Foco em Biologia e Legislação de Trânsito",
                 dias: [
                    { dia: "Segunda-feira", metas: [{ id: "s3m1", materia: "Biologia", descricao: "Estudar Citologia: Membrana e Citoplasma." }]},
                    { dia: "Terça-feira", metas: [{ id: "s3m2", materia: "Legislação de Trânsito", descricao: "Estudar as especificidades para veículos de emergência no CTB." }]}
                 ]
            },
            4: { // Semana 4
                titulo: "Revisão Geral e Simulado",
                 dias: [
                    { dia: "Segunda-feira", metas: [{ id: "s4m1", materia: "Revisão", descricao: "Revisar os principais pontos de Legislação." }]},
                    { dia: "Terça-feira", metas: [{ id: "s4m2", materia: "Revisão", descricao: "Revisar os principais pontos de APH." }]},
                    { dia: "Sábado", metas: [{ id: "s4m3", materia: "Questões", descricao: "Realizar um simulado completo com 60 questões." }]}
                 ]
            }
        };

        // --- REFERÊNCIAS DO DOM ---
        const progressPanel = document.getElementById('progress-panel');
        const metasContainer = document.getElementById('metas-semanais-container');
        const metasTitle = document.getElementById('metas-title');
        const weeksNavContainer = document.getElementById('weeks-navigation');
        
        let progressoMetas = JSON.parse(localStorage.getItem('progressoMetasCBMDF')) || {};
        let activeWeek = 1;

        // --- FUNÇÕES ---
        function salvarProgresso() {
            localStorage.setItem('progressoMetasCBMDF', JSON.stringify(progressoMetas));
        }

        function renderProgressPanel() {
            progressPanel.innerHTML = '<h2>Painel de Progresso</h2><div class="progress-grid" id="progress-grid"></div>';
            const progressGrid = document.getElementById('progress-grid');
            
            todasAsMaterias.forEach(materia => {
                const progresso = Math.floor(Math.random() * 101); // Simulação
                const progressItem = document.createElement('div');
                progressItem.className = 'progress-item';
                progressItem.innerHTML = `
                    <div class="progress-title">
                        <span>${materia}</span>
                        <span>${progresso}%</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar" style="width: ${progresso}%;"></div>
                    </div>
                `;
                progressGrid.appendChild(progressItem);
            });
        }
        
        function renderMetas(weekNumber) {
            const semanaData = planoDeEstudosCompleto[weekNumber];
            if (!semanaData) {
                metasContainer.innerHTML = '<p>Plano de estudos para esta semana não encontrado.</p>';
                return;
            }

            activeWeek = weekNumber;
            metasTitle.textContent = `Metas da Semana ${weekNumber}`;
            metasContainer.innerHTML = ''; // Limpa o container antes de renderizar
            
            const metasEl = document.createElement('div');
            metasEl.className = 'accordion-item active';

            const diaSemana = ['Domingo', 'Segunda-feira', 'Terça-feira', 'Quarta-feira', 'Quinta-feira', 'Sexta-feira', 'Sábado'];
            const hoje = diaSemana[new Date().getDay()];

            const diasHtml = semanaData.dias.map(diaInfo => {
                const isToday = diaInfo.dia === hoje ? 'today' : '';
                const metasHtml = diaInfo.metas.map(meta => {
                    const isCompleted = progressoMetas[meta.id] ? 'completed' : '';
                    const isChecked = progressoMetas[meta.id] ? 'checked' : '';
                    return `
                    <li class="topic-item ${isCompleted}" data-id="${meta.id}">
                        <input type="checkbox" id="${meta.id}" ${isChecked}>
                        <label for="${meta.id}">
                            <span>${meta.descricao}</span>
                            <span class="subject-tag">${meta.materia}</span>
                        </label>
                    </li>`;
                }).join('');

                return `
                <div class="day-plan ${isToday}">
                    <h4>${diaInfo.dia}</h4>
                    <ul class="topic-list">${metasHtml}</ul>
                </div>`;

            }).join('');

            metasEl.innerHTML = `
                <div class="accordion-header">
                    <h3><i class="fa-solid fa-bullseye"></i> ${semanaData.titulo}</h3>
                    <i class="fas fa-plus icon"></i>
                </div>
                <div class="accordion-content">${diasHtml}</div>`;
            metasContainer.appendChild(metasEl);
            
            updateActiveWeekLink();
        }

        function renderWeeksNavigation() {
            weeksNavContainer.innerHTML = '';
            Object.keys(planoDeEstudosCompleto).forEach(weekNum => {
                const li = document.createElement('li');
                const link = document.createElement('a');
                link.href = '#';
                link.dataset.week = weekNum;
                link.textContent = `Semana ${weekNum}`;
                li.appendChild(link);
                weeksNavContainer.appendChild(li);
            });
        }
        
        function updateActiveWeekLink() {
            document.querySelectorAll('#weeks-navigation a').forEach(link => {
                link.classList.remove('active');
                if (link.dataset.week == activeWeek) {
                    link.classList.add('active');
                }
            });
        }

        function setupEventListeners() {
             document.querySelector('.accordion-header').addEventListener('click', (e) => {
                 const header = e.target.closest('.accordion-header');
                 if(header) {
                    header.parentElement.classList.toggle('active');
                 }
            });

            metasContainer.addEventListener('change', (e) => {
                if (e.target.type === 'checkbox') {
                    const id = e.target.id;
                    const item = e.target.closest('.topic-item');
                    if (e.target.checked) {
                        progressoMetas[id] = true;
                        item.classList.add('completed');
                    } else {
                        delete progressoMetas[id];
                        item.classList.remove('completed');
                    }
                    salvarProgresso();
                }
            });

            weeksNavContainer.addEventListener('click', (e) => {
                e.preventDefault();
                if (e.target.tagName === 'A') {
                    const weekNum = e.target.dataset.week;
                    renderMetas(parseInt(weekNum));
                }
            });
        }
        
        // --- INICIALIZAÇÃO ---
        renderProgressPanel();
        renderWeeksNavigation();
        renderMetas(activeWeek); // Carrega a semana 1 por padrão
        setupEventListeners();

    });
    </script>
</body>
</html>